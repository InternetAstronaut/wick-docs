<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="utf-8">
    <title>base/Selection.js - Documentation</title>
    
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
    <script src="scripts/nav.js" defer></script>
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav >
    
    
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="BuiltinAssets.html">BuiltinAssets</a></li><li><a href="GlobalAPI.html">GlobalAPI</a><ul class='methods'><li data-type='method'><a href="GlobalAPI.html#gotoAndPlay">gotoAndPlay</a></li><li data-type='method'><a href="GlobalAPI.html#gotoAndStop">gotoAndStop</a></li><li data-type='method'><a href="GlobalAPI.html#gotoNextFrame">gotoNextFrame</a></li><li data-type='method'><a href="GlobalAPI.html#gotoPrevFrame">gotoPrevFrame</a></li><li data-type='method'><a href="GlobalAPI.html#hideCursor">hideCursor</a></li><li data-type='method'><a href="GlobalAPI.html#isKeyDown">isKeyDown</a></li><li data-type='method'><a href="GlobalAPI.html#isKeyJustPressed">isKeyJustPressed</a></li><li data-type='method'><a href="GlobalAPI.html#isMouseDown">isMouseDown</a></li><li data-type='method'><a href="GlobalAPI.html#keyIsDown">keyIsDown</a></li><li data-type='method'><a href="GlobalAPI.html#keyIsJustPressed">keyIsJustPressed</a></li><li data-type='method'><a href="GlobalAPI.html#onEvent">onEvent</a></li><li data-type='method'><a href="GlobalAPI.html#play">play</a></li><li data-type='method'><a href="GlobalAPI.html#playSound">playSound</a></li><li data-type='method'><a href="GlobalAPI.html#showCursor">showCursor</a></li><li data-type='method'><a href="GlobalAPI.html#stop">stop</a></li><li data-type='method'><a href="GlobalAPI.html#stopAllSounds">stopAllSounds</a></li><li data-type='method'><a href="GlobalAPI.html#stopSound">stopSound</a></li></ul></li><li><a href="paper.SelectionGUI.html">SelectionGUI</a><ul class='methods'><li data-type='method'><a href="paper.SelectionGUI.html#destroy">destroy</a></li><li data-type='method'><a href="paper.SelectionGUI.html#moveHandleAndRotate">moveHandleAndRotate</a></li><li data-type='method'><a href="paper.SelectionGUI.html#moveHandleAndScale">moveHandleAndScale</a></li></ul></li><li><a href="paper-paper.Selection.html">Selection</a></li><li><a href="SelectionWidget.html">SelectionWidget</a><ul class='methods'><li data-type='method'><a href="SelectionWidget.html#build">build</a></li><li data-type='method'><a href="SelectionWidget.html#finishTransformation">finishTransformation</a></li><li data-type='method'><a href="SelectionWidget.html#flipHorizontally">flipHorizontally</a></li><li data-type='method'><a href="SelectionWidget.html#flipVertically">flipVertically</a></li><li data-type='method'><a href="SelectionWidget.html#rotateSelection">rotateSelection</a></li><li data-type='method'><a href="SelectionWidget.html#scaleSelection">scaleSelection</a></li><li data-type='method'><a href="SelectionWidget.html#startTransformation">startTransformation</a></li><li data-type='method'><a href="SelectionWidget.html#transformSelection">transformSelection</a></li><li data-type='method'><a href="SelectionWidget.html#translateSelection">translateSelection</a></li><li data-type='method'><a href="SelectionWidget.html#updateTransformation">updateTransformation</a></li></ul></li><li><a href="Wick.AutoSave.html">AutoSave</a><ul class='methods'><li data-type='method'><a href="Wick.AutoSave.html#.addAutosaveToList">addAutosaveToList</a></li><li data-type='method'><a href="Wick.AutoSave.html#.delete">delete</a></li><li data-type='method'><a href="Wick.AutoSave.html#.deleteAutosaveData">deleteAutosaveData</a></li><li data-type='method'><a href="Wick.AutoSave.html#.generateAutosaveData">generateAutosaveData</a></li><li data-type='method'><a href="Wick.AutoSave.html#.generateProjectFromAutosaveData">generateProjectFromAutosaveData</a></li><li data-type='method'><a href="Wick.AutoSave.html#.getAutosavesList">getAutosavesList</a></li><li data-type='method'><a href="Wick.AutoSave.html#.load">load</a></li><li data-type='method'><a href="Wick.AutoSave.html#.readAutosaveData">readAutosaveData</a></li><li data-type='method'><a href="Wick.AutoSave.html#.removeAutosaveFromList">removeAutosaveFromList</a></li><li data-type='method'><a href="Wick.AutoSave.html#.save">save</a></li><li data-type='method'><a href="Wick.AutoSave.html#.updateAutosavesList">updateAutosavesList</a></li><li data-type='method'><a href="Wick.AutoSave.html#.writeAutosaveData">writeAutosaveData</a></li></ul></li><li><a href="Wick.Base.html">Base</a><ul class='methods'><li data-type='method'><a href="Wick.Base.html#.fromData">fromData</a></li><li data-type='method'><a href="Wick.Base.html#.import">import</a></li><li data-type='method'><a href="Wick.Base.html#addChild">addChild</a></li><li data-type='method'><a href="Wick.Base.html#copy">copy</a></li><li data-type='method'><a href="Wick.Base.html#deserialize">deserialize</a></li><li data-type='method'><a href="Wick.Base.html#export">export</a></li><li data-type='method'><a href="Wick.Base.html#getChild">getChild</a></li><li data-type='method'><a href="Wick.Base.html#getChildren">getChildren</a></li><li data-type='method'><a href="Wick.Base.html#getChildrenRecursive">getChildrenRecursive</a></li><li data-type='method'><a href="Wick.Base.html#getLinkedAssets">getLinkedAssets</a></li><li data-type='method'><a href="Wick.Base.html#insertChild">insertChild</a></li><li data-type='method'><a href="Wick.Base.html#removeChild">removeChild</a></li><li data-type='method'><a href="Wick.Base.html#serialize">serialize</a></li></ul></li><li><a href="Wick.Button.html">Button</a></li><li><a href="Wick.Clip.html">Clip</a><ul class='methods'><li data-type='method'><a href="Wick.Clip.html#addObjects">addObjects</a></li><li data-type='method'><a href="Wick.Clip.html#applySingleFramePosition">applySingleFramePosition</a></li><li data-type='method'><a href="Wick.Clip.html#applySyncPosition">applySyncPosition</a></li><li data-type='method'><a href="Wick.Clip.html#breakApart">breakApart</a></li><li data-type='method'><a href="Wick.Clip.html#circleHits">circleHits</a></li><li data-type='method'><a href="Wick.Clip.html#clone">clone</a></li><li data-type='method'><a href="Wick.Clip.html#convexHits">convexHits</a></li><li data-type='method'><a href="Wick.Clip.html#ensureActiveFrameIsContentful">ensureActiveFrameIsContentful</a></li><li data-type='method'><a href="Wick.Clip.html#gotoAndPlay">gotoAndPlay</a></li><li data-type='method'><a href="Wick.Clip.html#gotoAndStop">gotoAndStop</a></li><li data-type='method'><a href="Wick.Clip.html#gotoNextFrame">gotoNextFrame</a></li><li data-type='method'><a href="Wick.Clip.html#gotoPrevFrame">gotoPrevFrame</a></li><li data-type='method'><a href="Wick.Clip.html#hits">hits</a></li><li data-type='method'><a href="Wick.Clip.html#hitTest">hitTest</a></li><li data-type='method'><a href="Wick.Clip.html#play">play</a></li><li data-type='method'><a href="Wick.Clip.html#radiusAtPointInDirection">radiusAtPointInDirection</a></li><li data-type='method'><a href="Wick.Clip.html#rectangleHits">rectangleHits</a></li><li data-type='method'><a href="Wick.Clip.html#remove">remove</a></li><li data-type='method'><a href="Wick.Clip.html#removeClone">removeClone</a></li><li data-type='method'><a href="Wick.Clip.html#resetTimelinePosition">resetTimelinePosition</a></li><li data-type='method'><a href="Wick.Clip.html#setText">setText</a></li><li data-type='method'><a href="Wick.Clip.html#stop">stop</a></li><li data-type='method'><a href="Wick.Clip.html#updateTimelineForAnimationType">updateTimelineForAnimationType</a></li></ul></li><li><a href="Wick.Clipboard.html">Clipboard</a><ul class='methods'><li data-type='method'><a href="Wick.Clipboard.html#copyObjectsToClipboard">copyObjectsToClipboard</a></li><li data-type='method'><a href="Wick.Clipboard.html#pasteObjectsFromClipboard">pasteObjectsFromClipboard</a></li></ul></li><li><a href="Wick.FileCache.html">FileCache</a><ul class='methods'><li data-type='method'><a href="Wick.FileCache.html#.addFile">addFile</a></li><li data-type='method'><a href="Wick.FileCache.html#.clear">clear</a></li><li data-type='method'><a href="Wick.FileCache.html#.getAllFiles">getAllFiles</a></li><li data-type='method'><a href="Wick.FileCache.html#.getFile">getFile</a></li><li data-type='method'><a href="Wick.FileCache.html#.loadFilesFromLocalforage">loadFilesFromLocalforage</a></li><li data-type='method'><a href="Wick.FileCache.html#.removeFile">removeFile</a></li></ul></li><li><a href="Wick.Frame.html">Frame</a><ul class='methods'><li data-type='method'><a href="Wick.Frame.html#addClip">addClip</a></li><li data-type='method'><a href="Wick.Frame.html#addPath">addPath</a></li><li data-type='method'><a href="Wick.Frame.html#addTween">addTween</a></li><li data-type='method'><a href="Wick.Frame.html#applyClipSingleFramePositions">applyClipSingleFramePositions</a></li><li data-type='method'><a href="Wick.Frame.html#applyTweenTransforms">applyTweenTransforms</a></li><li data-type='method'><a href="Wick.Frame.html#containedWithin">containedWithin</a></li><li data-type='method'><a href="Wick.Frame.html#createTween">createTween</a></li><li data-type='method'><a href="Wick.Frame.html#cut">cut</a></li><li data-type='method'><a href="Wick.Frame.html#distanceFrom">distanceFrom</a></li><li data-type='method'><a href="Wick.Frame.html#extendAndPushOtherFrames">extendAndPushOtherFrames</a></li><li data-type='method'><a href="Wick.Frame.html#getActiveTween">getActiveTween</a></li><li data-type='method'><a href="Wick.Frame.html#getLinkedAssets">getLinkedAssets</a></li><li data-type='method'><a href="Wick.Frame.html#getRelativePlayheadPosition">getRelativePlayheadPosition</a></li><li data-type='method'><a href="Wick.Frame.html#getTweenAtCurrentPlayheadPosition">getTweenAtCurrentPlayheadPosition</a></li><li data-type='method'><a href="Wick.Frame.html#getTweenAtPosition">getTweenAtPosition</a></li><li data-type='method'><a href="Wick.Frame.html#inPosition">inPosition</a></li><li data-type='method'><a href="Wick.Frame.html#inRange">inRange</a></li><li data-type='method'><a href="Wick.Frame.html#isSoundPlaying">isSoundPlaying</a></li><li data-type='method'><a href="Wick.Frame.html#playSound">playSound</a></li><li data-type='method'><a href="Wick.Frame.html#remove">remove</a></li><li data-type='method'><a href="Wick.Frame.html#removeAllTweens">removeAllTweens</a></li><li data-type='method'><a href="Wick.Frame.html#removeClip">removeClip</a></li><li data-type='method'><a href="Wick.Frame.html#removePath">removePath</a></li><li data-type='method'><a href="Wick.Frame.html#removeSound">removeSound</a></li><li data-type='method'><a href="Wick.Frame.html#removeTween">removeTween</a></li><li data-type='method'><a href="Wick.Frame.html#seekTweenBehind">seekTweenBehind</a></li><li data-type='method'><a href="Wick.Frame.html#seekTweenInFront">seekTweenInFront</a></li><li data-type='method'><a href="Wick.Frame.html#shrinkAndPullOtherFrames">shrinkAndPullOtherFrames</a></li><li data-type='method'><a href="Wick.Frame.html#stopSound">stopSound</a></li><li data-type='method'><a href="Wick.Frame.html#updateClipTimelinesForAnimationType">updateClipTimelinesForAnimationType</a></li></ul></li><li><a href="Wick.GUIElement.Project.html">Project</a><ul class='methods'><li data-type='method'><a href="Wick.GUIElement.Project.html#_onMouseWheel">_onMouseWheel</a></li><li data-type='method'><a href="Wick.GUIElement.Project.html#checkForPlayheadAutoscroll">checkForPlayheadAutoscroll</a></li><li data-type='method'><a href="Wick.GUIElement.Project.html#closePopupMenu">closePopupMenu</a></li><li data-type='method'><a href="Wick.GUIElement.Project.html#createCanvasEvent">createCanvasEvent</a></li><li data-type='method'><a href="Wick.GUIElement.Project.html#createDocumentEvent">createDocumentEvent</a></li><li data-type='method'><a href="Wick.GUIElement.Project.html#dragAssetAtPosition">dragAssetAtPosition</a></li><li data-type='method'><a href="Wick.GUIElement.Project.html#draw">draw</a></li><li data-type='method'><a href="Wick.GUIElement.Project.html#markElementAsDrawn">markElementAsDrawn</a></li><li data-type='method'><a href="Wick.GUIElement.Project.html#onProjectModified">onProjectModified</a></li><li data-type='method'><a href="Wick.GUIElement.Project.html#onProjectSoftModified">onProjectSoftModified</a></li><li data-type='method'><a href="Wick.GUIElement.Project.html#openPopupMenu">openPopupMenu</a></li><li data-type='method'><a href="Wick.GUIElement.Project.html#removeAllEventListeners">removeAllEventListeners</a></li><li data-type='method'><a href="Wick.GUIElement.Project.html#resize">resize</a></li></ul></li><li><a href="Wick.GUIElement.Timeline.html">Timeline</a><ul class='methods'><li data-type='method'><a href="Wick.GUIElement.Timeline.html#draw">draw</a></li></ul></li><li><a href="Wick.GUIElement-Wick.GUIElement.Breadcrumbs.html">Breadcrumbs</a></li><li><a href="Wick.GUIElement-Wick.GUIElement.Button.html">Button</a></li><li><a href="Wick.History.html">History</a><ul class='methods'><li data-type='method'><a href="Wick.History.html#getObjectUUIDs">getObjectUUIDs</a></li><li data-type='method'><a href="Wick.History.html#loadSnapshot">loadSnapshot</a></li><li data-type='method'><a href="Wick.History.html#popState">popState</a></li><li data-type='method'><a href="Wick.History.html#pushState">pushState</a></li><li data-type='method'><a href="Wick.History.html#recoverState">recoverState</a></li><li data-type='method'><a href="Wick.History.html#reset">reset</a></li><li data-type='method'><a href="Wick.History.html#saveSnapshot">saveSnapshot</a></li></ul></li><li><a href="Wick.HTMLExport.html">HTMLExport</a><ul class='methods'><li data-type='method'><a href="Wick.HTMLExport.html#.bundleProject">bundleProject</a></li></ul></li><li><a href="Wick.HTMLPreview.html">HTMLPreview</a><ul class='methods'><li data-type='method'><a href="Wick.HTMLPreview.html#.previewProject">previewProject</a></li></ul></li><li><a href="Wick.ImageSequence.html">ImageSequence</a><ul class='methods'><li data-type='method'><a href="Wick.ImageSequence.html#.toPNGSequence">toPNGSequence</a></li></ul></li><li><a href="Wick.Layer.html">Layer</a><ul class='methods'><li data-type='method'><a href="Wick.Layer.html#activate">activate</a></li><li data-type='method'><a href="Wick.Layer.html#addFrame">addFrame</a></li><li data-type='method'><a href="Wick.Layer.html#addTween">addTween</a></li><li data-type='method'><a href="Wick.Layer.html#findGaps">findGaps</a></li><li data-type='method'><a href="Wick.Layer.html#getFrameAtPlayheadPosition">getFrameAtPlayheadPosition</a></li><li data-type='method'><a href="Wick.Layer.html#getFramesContainedWithin">getFramesContainedWithin</a></li><li data-type='method'><a href="Wick.Layer.html#getFramesInRange">getFramesInRange</a></li><li data-type='method'><a href="Wick.Layer.html#insertBlankFrame">insertBlankFrame</a></li><li data-type='method'><a href="Wick.Layer.html#move">move</a></li><li data-type='method'><a href="Wick.Layer.html#remove">remove</a></li><li data-type='method'><a href="Wick.Layer.html#removeFrame">removeFrame</a></li><li data-type='method'><a href="Wick.Layer.html#resolveGaps">resolveGaps</a></li><li data-type='method'><a href="Wick.Layer.html#resolveOverlap">resolveOverlap</a></li></ul></li><li><a href="Wick.Path.html">Path</a><ul class='methods'><li data-type='method'><a href="Wick.Path.html#.booleanOp">booleanOp</a></li><li data-type='method'><a href="Wick.Path.html#.createImagePath">createImagePath</a></li><li data-type='method'><a href="Wick.Path.html#.createImagePathSync">createImagePathSync</a></li><li data-type='method'><a href="Wick.Path.html#.intersect">intersect</a></li><li data-type='method'><a href="Wick.Path.html#.subtract">subtract</a></li><li data-type='method'><a href="Wick.Path.html#.unite">unite</a></li><li data-type='method'><a href="Wick.Path.html#flatten">flatten</a></li><li data-type='method'><a href="Wick.Path.html#getLinkedAssets">getLinkedAssets</a></li><li data-type='method'><a href="Wick.Path.html#remove">remove</a></li><li data-type='method'><a href="Wick.Path.html#setText">setText</a></li><li data-type='method'><a href="Wick.Path.html#updateJSON">updateJSON</a></li></ul></li><li><a href="Wick.Project.html">Project</a><ul class='methods'><li data-type='method'><a href="Wick.Project.html#addAsset">addAsset</a></li><li data-type='method'><a href="Wick.Project.html#addObject">addObject</a></li><li data-type='method'><a href="Wick.Project.html#breakApartSelection">breakApartSelection</a></li><li data-type='method'><a href="Wick.Project.html#cleanupUnusedAssets">cleanupUnusedAssets</a></li><li data-type='method'><a href="Wick.Project.html#copySelectionToClipboard">copySelectionToClipboard</a></li><li data-type='method'><a href="Wick.Project.html#createClipFromLayers">createClipFromLayers</a></li><li data-type='method'><a href="Wick.Project.html#createClipFromSelection">createClipFromSelection</a></li><li data-type='method'><a href="Wick.Project.html#createClipInstanceFromAsset">createClipInstanceFromAsset</a></li><li data-type='method'><a href="Wick.Project.html#createImagePathFromAsset">createImagePathFromAsset</a></li><li data-type='method'><a href="Wick.Project.html#createSVGInstanceFromAsset">createSVGInstanceFromAsset</a></li><li data-type='method'><a href="Wick.Project.html#createTween">createTween</a></li><li data-type='method'><a href="Wick.Project.html#cutSelectedFrames">cutSelectedFrames</a></li><li data-type='method'><a href="Wick.Project.html#cutSelectionToClipboard">cutSelectionToClipboard</a></li><li data-type='method'><a href="Wick.Project.html#deleteSelectedObjects">deleteSelectedObjects</a></li><li data-type='method'><a href="Wick.Project.html#destroy">destroy</a></li><li data-type='method'><a href="Wick.Project.html#distributeSelectionToLayers">distributeSelectionToLayers</a></li><li data-type='method'><a href="Wick.Project.html#doBooleanOperationOnSelection">doBooleanOperationOnSelection</a></li><li data-type='method'><a href="Wick.Project.html#duplicateSelection">duplicateSelection</a></li><li data-type='method'><a href="Wick.Project.html#errorOccured">errorOccured</a></li><li data-type='method'><a href="Wick.Project.html#extendFrames">extendFrames</a></li><li data-type='method'><a href="Wick.Project.html#extendFramesAndPushOtherFrames">extendFramesAndPushOtherFrames</a></li><li data-type='method'><a href="Wick.Project.html#focusTimelineOfParentClip">focusTimelineOfParentClip</a></li><li data-type='method'><a href="Wick.Project.html#focusTimelineOfSelectedClip">focusTimelineOfSelectedClip</a></li><li data-type='method'><a href="Wick.Project.html#generateAudioSequence">generateAudioSequence</a></li><li data-type='method'><a href="Wick.Project.html#generateAudioTrack">generateAudioTrack</a></li><li data-type='method'><a href="Wick.Project.html#generateImageSequence">generateImageSequence</a></li><li data-type='method'><a href="Wick.Project.html#generateSoundInfo">generateSoundInfo</a></li><li data-type='method'><a href="Wick.Project.html#getAllFrames">getAllFrames</a></li><li data-type='method'><a href="Wick.Project.html#getAllOnionSkinnedFrames">getAllOnionSkinnedFrames</a></li><li data-type='method'><a href="Wick.Project.html#getAssetByName">getAssetByName</a></li><li data-type='method'><a href="Wick.Project.html#getAssetByUUID">getAssetByUUID</a></li><li data-type='method'><a href="Wick.Project.html#getAssets">getAssets</a></li><li data-type='method'><a href="Wick.Project.html#getAudioInfo">getAudioInfo</a></li><li data-type='method'><a href="Wick.Project.html#getFonts">getFonts</a></li><li data-type='method'><a href="Wick.Project.html#getObjectByUUID">getObjectByUUID</a></li><li data-type='method'><a href="Wick.Project.html#hasFont">hasFont</a></li><li data-type='method'><a href="Wick.Project.html#importFile">importFile</a></li><li data-type='method'><a href="Wick.Project.html#initialize">initialize</a></li><li data-type='method'><a href="Wick.Project.html#inject">inject</a></li><li data-type='method'><a href="Wick.Project.html#insertBlankFrame">insertBlankFrame</a></li><li data-type='method'><a href="Wick.Project.html#isKeyDown">isKeyDown</a></li><li data-type='method'><a href="Wick.Project.html#isKeyJustPressed">isKeyJustPressed</a></li><li data-type='method'><a href="Wick.Project.html#loadAssets">loadAssets</a></li><li data-type='method'><a href="Wick.Project.html#moveSelectedFramesLeft">moveSelectedFramesLeft</a></li><li data-type='method'><a href="Wick.Project.html#moveSelectedFramesRight">moveSelectedFramesRight</a></li><li data-type='method'><a href="Wick.Project.html#moveSelection">moveSelection</a></li><li data-type='method'><a href="Wick.Project.html#mute">mute</a></li><li data-type='method'><a href="Wick.Project.html#objectIsMouseTarget">objectIsMouseTarget</a></li><li data-type='method'><a href="Wick.Project.html#onError">onError</a></li><li data-type='method'><a href="Wick.Project.html#pasteClipboardContents">pasteClipboardContents</a></li><li data-type='method'><a href="Wick.Project.html#play">play</a></li><li data-type='method'><a href="Wick.Project.html#playSound">playSound</a></li><li data-type='method'><a href="Wick.Project.html#playSoundFromAsset">playSoundFromAsset</a></li><li data-type='method'><a href="Wick.Project.html#prepareProjectForEditor">prepareProjectForEditor</a></li><li data-type='method'><a href="Wick.Project.html#recenter">recenter</a></li><li data-type='method'><a href="Wick.Project.html#redo">redo</a></li><li data-type='method'><a href="Wick.Project.html#removeAsset">removeAsset</a></li><li data-type='method'><a href="Wick.Project.html#resetCache">resetCache</a></li><li data-type='method'><a href="Wick.Project.html#resetTools">resetTools</a></li><li data-type='method'><a href="Wick.Project.html#resetZoomAndPan">resetZoomAndPan</a></li><li data-type='method'><a href="Wick.Project.html#runScheduledScripts">runScheduledScripts</a></li><li data-type='method'><a href="Wick.Project.html#scheduleScript">scheduleScript</a></li><li data-type='method'><a href="Wick.Project.html#selectAll">selectAll</a></li><li data-type='method'><a href="Wick.Project.html#shrinkFrames">shrinkFrames</a></li><li data-type='method'><a href="Wick.Project.html#shrinkFramesAndPullOtherFrames">shrinkFramesAndPullOtherFrames</a></li><li data-type='method'><a href="Wick.Project.html#stop">stop</a></li><li data-type='method'><a href="Wick.Project.html#stopAllSounds">stopAllSounds</a></li><li data-type='method'><a href="Wick.Project.html#stopSound">stopSound</a></li><li data-type='method'><a href="Wick.Project.html#tick">tick</a></li><li data-type='method'><a href="Wick.Project.html#tryToAutoCreateTween">tryToAutoCreateTween</a></li><li data-type='method'><a href="Wick.Project.html#undo">undo</a></li><li data-type='method'><a href="Wick.Project.html#unmute">unmute</a></li><li data-type='method'><a href="Wick.Project.html#zoomIn">zoomIn</a></li><li data-type='method'><a href="Wick.Project.html#zoomOut">zoomOut</a></li></ul></li><li><a href="Wick.Selection.html">Selection</a><ul class='methods'><li data-type='method'><a href="Wick.Selection.html#bringToFront">bringToFront</a></li><li data-type='method'><a href="Wick.Selection.html#clear">clear</a></li><li data-type='method'><a href="Wick.Selection.html#deselect">deselect</a></li><li data-type='method'><a href="Wick.Selection.html#deselectMultipleObjects">deselectMultipleObjects</a></li><li data-type='method'><a href="Wick.Selection.html#flipHorizontally">flipHorizontally</a></li><li data-type='method'><a href="Wick.Selection.html#flipVertically">flipVertically</a></li><li data-type='method'><a href="Wick.Selection.html#getLeftmostFrames">getLeftmostFrames</a></li><li data-type='method'><a href="Wick.Selection.html#getRightmostFrames">getRightmostFrames</a></li><li data-type='method'><a href="Wick.Selection.html#getSelectedObject">getSelectedObject</a></li><li data-type='method'><a href="Wick.Selection.html#getSelectedObjects">getSelectedObjects</a></li><li data-type='method'><a href="Wick.Selection.html#getSelectedObjectUUIDs">getSelectedObjectUUIDs</a></li><li data-type='method'><a href="Wick.Selection.html#isObjectSelected">isObjectSelected</a></li><li data-type='method'><a href="Wick.Selection.html#isSelectable">isSelectable</a></li><li data-type='method'><a href="Wick.Selection.html#moveBackwards">moveBackwards</a></li><li data-type='method'><a href="Wick.Selection.html#moveForwards">moveForwards</a></li><li data-type='method'><a href="Wick.Selection.html#select">select</a></li><li data-type='method'><a href="Wick.Selection.html#selectMultipleObjects">selectMultipleObjects</a></li><li data-type='method'><a href="Wick.Selection.html#sendToBack">sendToBack</a></li></ul></li><li><a href="Wick.SVGFile.html">SVGFile</a><ul class='methods'><li data-type='method'><a href="Wick.SVGFile.html#.fromSVGFile">fromSVGFile</a></li><li data-type='method'><a href="Wick.SVGFile.html#.toSVGFile">toSVGFile</a></li></ul></li><li><a href="Wick.Tickable.html">Tickable</a><ul class='methods'><li data-type='method'><a href="Wick.Tickable.html#_runFunction">_runFunction</a></li><li data-type='method'><a href="Wick.Tickable.html#addEventFn">addEventFn</a></li><li data-type='method'><a href="Wick.Tickable.html#addScript">addScript</a></li><li data-type='method'><a href="Wick.Tickable.html#getAvailableScripts">getAvailableScripts</a></li><li data-type='method'><a href="Wick.Tickable.html#getEventFns">getEventFns</a></li><li data-type='method'><a href="Wick.Tickable.html#getScript">getScript</a></li><li data-type='method'><a href="Wick.Tickable.html#hasScript">hasScript</a></li><li data-type='method'><a href="Wick.Tickable.html#onEvent">onEvent</a></li><li data-type='method'><a href="Wick.Tickable.html#removeScript">removeScript</a></li><li data-type='method'><a href="Wick.Tickable.html#runScript">runScript</a></li><li data-type='method'><a href="Wick.Tickable.html#scheduleScript">scheduleScript</a></li><li data-type='method'><a href="Wick.Tickable.html#scriptIsContentful">scriptIsContentful</a></li><li data-type='method'><a href="Wick.Tickable.html#tick">tick</a></li><li data-type='method'><a href="Wick.Tickable.html#updateScript">updateScript</a></li></ul></li><li><a href="Wick.Timeline.html">Timeline</a><ul class='methods'><li data-type='method'><a href="Wick.Timeline.html#addFrame">addFrame</a></li><li data-type='method'><a href="Wick.Timeline.html#addLayer">addLayer</a></li><li data-type='method'><a href="Wick.Timeline.html#addTween">addTween</a></li><li data-type='method'><a href="Wick.Timeline.html#advance">advance</a></li><li data-type='method'><a href="Wick.Timeline.html#deferFrameGapResolve">deferFrameGapResolve</a></li><li data-type='method'><a href="Wick.Timeline.html#forceFrame">forceFrame</a></li><li data-type='method'><a href="Wick.Timeline.html#getAllFrames">getAllFrames</a></li><li data-type='method'><a href="Wick.Timeline.html#getFrameByName">getFrameByName</a></li><li data-type='method'><a href="Wick.Timeline.html#getFramesAtPlayheadPosition">getFramesAtPlayheadPosition</a></li><li data-type='method'><a href="Wick.Timeline.html#getFramesInRange">getFramesInRange</a></li><li data-type='method'><a href="Wick.Timeline.html#gotoAndPlay">gotoAndPlay</a></li><li data-type='method'><a href="Wick.Timeline.html#gotoAndStop">gotoAndStop</a></li><li data-type='method'><a href="Wick.Timeline.html#gotoFrame">gotoFrame</a></li><li data-type='method'><a href="Wick.Timeline.html#gotoNextFrame">gotoNextFrame</a></li><li data-type='method'><a href="Wick.Timeline.html#gotoPrevFrame">gotoPrevFrame</a></li><li data-type='method'><a href="Wick.Timeline.html#makeTimelineInBounds">makeTimelineInBounds</a></li><li data-type='method'><a href="Wick.Timeline.html#moveLayer">moveLayer</a></li><li data-type='method'><a href="Wick.Timeline.html#play">play</a></li><li data-type='method'><a href="Wick.Timeline.html#removeLayer">removeLayer</a></li><li data-type='method'><a href="Wick.Timeline.html#resolveFrameGaps">resolveFrameGaps</a></li><li data-type='method'><a href="Wick.Timeline.html#resolveFrameOverlap">resolveFrameOverlap</a></li><li data-type='method'><a href="Wick.Timeline.html#stop">stop</a></li></ul></li><li><a href="Wick.Tools-Wick.Tools.Brush.html">Brush</a></li><li><a href="Wick.Tools-Wick.Tools.Cursor.html">Cursor</a></li><li><a href="Wick.Tools-Wick.Tools.Ellipse.html">Ellipse</a></li><li><a href="Wick.Tools-Wick.Tools.Eraser.html">Eraser</a></li><li><a href="Wick.Tools-Wick.Tools.Eyedropper.html">Eyedropper</a></li><li><a href="Wick.Tools-Wick.Tools.FillBucket.html">FillBucket</a></li><li><a href="Wick.Tools-Wick.Tools.Interact.html">Interact</a></li><li><a href="Wick.Tools-Wick.Tools.Line.html">Line</a></li><li><a href="Wick.Tools-Wick.Tools.None.html">None</a></li><li><a href="Wick.Tools-Wick.Tools.Pan.html">Pan</a></li><li><a href="Wick.Tools-Wick.Tools.Pencil.html">Pencil</a></li><li><a href="Wick.Tools-Wick.Tools.Rectangle.html">Rectangle</a></li><li><a href="Wick.Tools-Wick.Tools.Text.html">Text</a></li><li><a href="Wick.Tools-Wick.Tools.Zoom.html">Zoom</a></li><li><a href="Wick.Transformation.html">Transformation</a><ul class='methods'><li data-type='method'><a href="Wick.Transformation.html#copy">copy</a></li></ul></li><li><a href="Wick.Tween.html">Tween</a><ul class='methods'><li data-type='method'><a href="Wick.Tween.html#.interpolate">interpolate</a></li><li data-type='method'><a href="Wick.Tween.html#applyTransformsToClip">applyTransformsToClip</a></li><li data-type='method'><a href="Wick.Tween.html#getNextTween">getNextTween</a></li><li data-type='method'><a href="Wick.Tween.html#remove">remove</a></li><li data-type='method'><a href="Wick.Tween.html#restrictToFrameSize">restrictToFrameSize</a></li></ul></li><li><a href="Wick.View-Wick.View.Clip.html">Clip</a></li><li><a href="Wick.View-Wick.View.Frame.html">Frame</a></li><li><a href="Wick.View-Wick.View.Path.html">Path</a></li><li><a href="Wick.View-Wick.View.Selection.html">Selection</a></li><li><a href="Wick.WickFile.html">WickFile</a><ul class='methods'><li data-type='method'><a href="Wick.WickFile.html#.fromWickFile">fromWickFile</a></li><li data-type='method'><a href="Wick.WickFile.html#.generateMetaData">generateMetaData</a></li><li data-type='method'><a href="Wick.WickFile.html#.toWickFile">toWickFile</a></li></ul></li><li><a href="Wick.WickObjectFile.html">WickObjectFile</a><ul class='methods'><li data-type='method'><a href="Wick.WickObjectFile.html#.fromWickObjectFile">fromWickObjectFile</a></li><li data-type='method'><a href="Wick.WickObjectFile.html#.toWickObjectFile">toWickObjectFile</a></li></ul></li><li><a href="Wick.ZIPExport.html">ZIPExport</a></li><li><a href="WickObjectCache.html">WickObjectCache</a><ul class='methods'><li data-type='method'><a href="WickObjectCache.html#addObject">addObject</a></li><li data-type='method'><a href="WickObjectCache.html#clear">clear</a></li><li data-type='method'><a href="WickObjectCache.html#clearObjectToBeAutosaved">clearObjectToBeAutosaved</a></li><li data-type='method'><a href="WickObjectCache.html#getActiveObjects">getActiveObjects</a></li><li data-type='method'><a href="WickObjectCache.html#getAllObjects">getAllObjects</a></li><li data-type='method'><a href="WickObjectCache.html#getObjectByUUID">getObjectByUUID</a></li><li data-type='method'><a href="WickObjectCache.html#getObjectsNeedAutosaved">getObjectsNeedAutosaved</a></li><li data-type='method'><a href="WickObjectCache.html#markObjectToBeAutosaved">markObjectToBeAutosaved</a></li><li data-type='method'><a href="WickObjectCache.html#objectNeedsAutosave">objectNeedsAutosave</a></li><li data-type='method'><a href="WickObjectCache.html#removeObject">removeObject</a></li><li data-type='method'><a href="WickObjectCache.html#removeObjectByUUID">removeObjectByUUID</a></li><li data-type='method'><a href="WickObjectCache.html#removeTemporaryObjects">removeTemporaryObjects</a></li><li data-type='method'><a href="WickObjectCache.html#removeUnusedObjects">removeUnusedObjects</a></li></ul></li><li><a href="Wick-Wick.Asset.html">Asset</a></li><li><a href="Wick-Wick.AudioTrack.html">AudioTrack</a></li><li><a href="Wick-Wick.ClipAsset.html">ClipAsset</a></li><li><a href="Wick-Wick.Color.html">Color</a></li><li><a href="Wick-Wick.FileAsset.html">FileAsset</a></li><li><a href="Wick-Wick.FontAsset.html">FontAsset</a></li><li><a href="Wick-Wick.GIFAsset.html">GIFAsset</a></li><li><a href="Wick-Wick.GUIElement.html">GUIElement</a></li><li><a href="Wick-Wick.ImageAsset.html">ImageAsset</a></li><li><a href="Wick-Wick.SoundAsset.html">SoundAsset</a></li><li><a href="Wick-Wick.SVGAsset.html">SVGAsset</a></li><li><a href="Wick-Wick.Tool.html">Tool</a></li><li><a href="Wick-Wick.ToolSettings.html">ToolSettings</a></li><li><a href="Wick-Wick.View.html">View</a></li></ul><h3>Global</h3><ul><li><a href="global.html#type">type</a></li><li><a href="global.html#Wick">Wick</a></li></ul>
    
</nav>

<div id="main">
    
    <h1 class="page-title">base/Selection.js</h1>
    

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/*
 * Copyright 2020 WICKLETS LLC
 *
 * This file is part of Wick Engine.
 *
 * Wick Engine is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * Wick Engine is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with Wick Engine.  If not, see &lt;https://www.gnu.org/licenses/>.
 */

/**
 * Class representing a Wick Selection.
 */
Wick.Selection = class extends Wick.Base {
    static get LOCATION_NAMES() {
        return ['Canvas', 'Timeline', 'AssetLibrary'];
    }

    /**
     * Create a Wick Selection.
     */
    constructor(args) {
        if (!args) args = {};
        super(args);

        this._selectedObjectsUUIDs = args.selectedObjects || [];
        this._widgetRotation = args.widgetRotation || 0;
        this._pivotPoint = { x: 0, y: 0 };
        this._originalWidth = 0;
        this._originalHeight = 0;

        this.SELECTABLE_OBJECT_TYPES = ['Path', 'Clip', 'Frame', 'Tween', 'Layer', 'Asset', 'Button', 
        'ClipAsset', 'FileAsset', 'FontAsset', 'GIFAsset', 'ImageAsset', 'SoundAsset', 'SVGAsset'];
        this.SELECTABLE_OBJECT_TYPES_SET = new Set(this.SELECTABLE_OBJECT_TYPES);
    }

    _serialize(args) {
        var data = super._serialize(args);
        data.selectedObjects = Array.from(this._selectedObjectsUUIDs);
        data.widgetRotation = this._widgetRotation;
        data.pivotPoint = {
            x: this._pivotPoint.x,
            y: this._pivotPoint.y,
        };
        data.originalWidth = this._originalWidth;
        data.originalHeight = this._originalHeight;
        return data;
    }

    _deserialize(data) {
        super._deserialize(data);
        this._selectedObjectsUUIDs = data.selectedObjects || [];
        this._widgetRotation = data.widgetRotation;
        this._pivotPoint = {
            x: data.pivotPoint.x,
            y: data.pivotPoint.y
        };
        this._originalWidth = data.originalWidth;
        this._originalHeight = data.originalHeight;
    }

    get classname() {
        return 'Selection';
    }

    /**
     * The names of all attributes of the selection that can be changed.
     * @type {string[]}
     */
    get allAttributeNames() {
        return [
            "strokeWidth",
            "fillColor",
            "strokeColor",
            "name",
            "filename",
            "fontSize",
            "fontFamily",
            "fontWeight",
            "fontStyle",
            "src",
            "frameLength",
            "x",
            "y",
            "originX",
            "originY",
            "width",
            "height",
            "rotation",
            "opacity",
            "sound",
            "soundVolume",
            "soundStart",
            "identifier",
            "easingType",
            "fullRotations",
            "scaleX",
            "scaleY",
            "animationType",
            "singleFrameNumber",
            "isSynced",
        ];
    }

    /**
     * Returns true if an object is selectable.
     * @param {object} object object to check if selectable
     * @returns {boolean} true if selectable, false otherwise.
     */
    isSelectable (object) {
        return this.SELECTABLE_OBJECT_TYPES_SET.has(object.classname);
    }

    /**
     * Add a wick object to the selection. If selecting multiple objects, you should use
     * selection.selectMultipleObjects.
     * @param {Wick.Base} object - The object to select.
     */
    select(object) {

        // Only allow specific objects to be selectable.
        if (!this.isSelectable(object)) {
            console.warn("Tried to select a " + object.classname + " object. This type is not selectable");
            return;
        }

        // Don't do anything if the object is already selected
        if (this.isObjectSelected(object)) {
            return;
        }

        // Activate the cursor tool when selection changes
        if (this._locationOf(object) === 'Canvas') {
            this.project.activeTool = this.project.tools.cursor;
            object.parentLayer &amp;&amp; object.parentLayer.activate();
        }

        // Only allow selection of objects of in the same location
        if (this._locationOf(object) !== this.location) {
            this.clear();
        }

        // Add the object to the selection!
        this._selectedObjectsUUIDs.push(object.uuid);

        // Select in between frames (for shift+click selecting frames)
        if (object instanceof Wick.Frame) {
            this._selectInBetweenFrames(object);
        }

        this._resetPositioningValues();

        // Make sure the view gets updated the next time its needed...
        this.view.dirty = true;
    }

    /**
     * Select multiple objects. Must be selectable objects. Significantly faster than selecting multiple elements
     * with a select() independently.
     * @param {object[]} objects 
     */
    selectMultipleObjects (objects) {
        let UUIDsToAdd = [];

        objects.forEach(obj => {
            if (this.isSelectable(obj) &amp;&amp; !this.isObjectSelected(obj)) {
                // Clear the selection if any of the selected objects are not in the same place as the objects
                // being selected.
                if (this.location !== this._locationOf(obj)) {
                    this.clear();
                }

                UUIDsToAdd.push(obj.uuid);
            }
        });

        UUIDsToAdd.forEach(uuid => {
            this._selectedObjectsUUIDs.push(uuid);
        });

        this._resetPositioningValues();
        this.view.dirty = true;
    }

    /**
     * Remove a wick object from the selection.
     * @param {Wick.Base} object - The object to deselect.
     */
    deselect(object) {
        this._selectedObjectsUUIDs = this._selectedObjectsUUIDs.filter(uuid => {
            return uuid !== object.uuid;
        });

        this._resetPositioningValues();

        // Make sure the view gets updated the next time its needed...
        this.view.dirty = true;
    }

    /**
     * Remove multiple objects from the selection. Does nothing if an object is not selected.
     * @param {object[]} objects objects to remove from the selection.
     */
    deselectMultipleObjects (objects) {
        objects = objects.filter(obj => obj);
        let uuids = objects.map(obj => obj.uuid);
        uuids = new Set(uuids);

        this._selectedObjectsUUIDs = this._selectedObjectsUUIDs.filter(uuid => !uuids.has(uuid));

        this._resetPositioningValues();
        this.view.dirty = true;
    }

    /**
     * Remove all objects from the selection with an optional filter.
     * @param {string} filter - A location or a type (see SELECTABLE_OBJECT_TYPES and LOCATION_NAMES)
     */
    clear(filter) {
        if (filter === undefined) {
            this._selectedObjectsUUIDs = [];
            this._resetPositioningValues();
            this.view.dirty = true;
        } else {
            this.deselectMultipleObjects(this.project.selection.getSelectedObjects(filter));
        }
    }

    /**
     * Checks if a given object is selected.
     * @param {Wick.Base} object - The object to check selection of.
     */
    isObjectSelected(object) {
        return this._selectedObjectsUUIDs.indexOf(object.uuid) !== -1;
    }

    /**
     * Get the first object in the selection if there is a single object in the selection.
     * @return {Wick.Base} The first object in the selection.
     */
    getSelectedObject() {
        if (this.numObjects === 1) {
            return this.getSelectedObjects()[0];
        } else {
            return null;
        }
    }

    /**
     * Get the objects in the selection with an optional filter.
     * @param {string} filter - A location or a type (see SELECTABLE_OBJECT_TYPES and LOCATION_NAMES)
     * @return {Wick.Base[]} The selected objects.
     */
    getSelectedObjects(filter) {
        var objects = this._selectedObjectsUUIDs.map(uuid => {
            return Wick.ObjectCache.getObjectByUUID(uuid);
        });

        if (Wick.Selection.LOCATION_NAMES.indexOf(filter) !== -1) {
            var location = filter;
            if (this.location !== location) {
                return [];
            } else {
                return this.getSelectedObjects();
            }
        } else if (typeof filter === 'string') {
            var classname = filter;
            objects = objects.filter(object => {
                return object instanceof Wick[classname];
            });
        }

        return objects;
    }

    /**
     * Get the UUIDs of the objects in the selection with an optional filter.
     * @param {string} filter - A location or a type (see SELECTABLE_OBJECT_TYPES and LOCATION_NAMES)
     * @return {string[]} The UUIDs of the selected objects.
     */
    getSelectedObjectUUIDs(filter) {
        return this.getSelectedObjects(filter).map(object => {
            return object.uuid;
        });
    }

    /**
     * The location of the objects in the selection. (see LOCATION_NAMES)
     * @type {string}
     */
    get location() {
        if (this.numObjects === 0) return null;
        return this._locationOf(this.getSelectedObjects()[0]);
    }

    /**
     * The types of the objects in the selection. (see SELECTABLE_OBJECT_TYPES)
     * @type {string[]}
     */
    get types() {
        var types = this.getSelectedObjects().map(object => {
            return object.classname;
        });
        var uniqueTypes = [...new Set(types)];
        return uniqueTypes;
    }

    /**
     * A single string describing the contents of the selection.
     * @type {string}
     */
    get selectionType() {
        let selection = this;

        if (selection.location === 'Canvas') {
            if (selection.numObjects === 1) {
                var selectedObject = selection.getSelectedObject();
                if (selectedObject instanceof window.Wick.Path) {
                    return selectedObject.pathType;
                } else if (selectedObject instanceof window.Wick.Button) {
                    return 'button';
                } else if (selectedObject instanceof window.Wick.Clip) {
                    return 'clip';
                }
            } else if (selection.types.length === 1) {
                if (selection.types[0] === 'Path') {
                    return 'multipath';
                } else {
                    return 'multiclip';
                }
            } else {
                return 'multicanvas';
            }
        } else if (selection.location === 'Timeline') {
            if (selection.numObjects === 1) {
                if (selection.getSelectedObject() instanceof window.Wick.Frame) {
                    return 'frame';
                } else if (selection.getSelectedObject() instanceof window.Wick.Layer) {
                    return 'layer';
                } else if (selection.getSelectedObject() instanceof window.Wick.Tween) {
                    return 'tween';
                }
            } else if (selection.types.length === 1) {
                if (selection.getSelectedObjects()[0] instanceof window.Wick.Frame) {
                    return 'multiframe';
                } else if (selection.getSelectedObjects()[0] instanceof window.Wick.Layer) {
                    return 'multilayer';
                } else if (selection.getSelectedObjects()[0] instanceof window.Wick.Tween) {
                    return 'multitween';
                }
            } else {
                return 'multitimeline';
            }
        } else if (selection.location === 'AssetLibrary') {
            if (selection.getSelectedObjects()[0] instanceof window.Wick.ImageAsset) {
                return 'imageasset';
            } else if (selection.getSelectedObjects()[0] instanceof window.Wick.SoundAsset) {
                return 'soundasset';
            } else if (selection.getSelectedObjects()[0] instanceof window.Wick.SVGAsset) {
                return 'svgasset';
            } else {
                return 'multiassetmixed'
            }
        } else {
            return 'unknown';
        }
    }

    /**
     * The number of objects in the selection.
     * @type {number}
     */
    get numObjects() {
        return this._selectedObjectsUUIDs.length;
    }

    /**
     * The rotation of the selection (used for canvas selections)
     * @type {number}
     */
    get widgetRotation() {
        return this._widgetRotation;
    }

    set widgetRotation(widgetRotation) {
        this._widgetRotation = widgetRotation;
    }

    /**
     * The point that transformations to the selection will be based around.
     * @type {object}
     */
    get pivotPoint() {
        return this._pivotPoint;
    }

    set pivotPoint(pivotPoint) {
        this._pivotPoint = pivotPoint;
    }

    /**
     * The animation type of a clip.
     * @type {string}
     */
    get animationType () {
        if (this.getSelectedObject() &amp;&amp; this.selectionType === 'clip') {
            return this.getSelectedObject().animationType;
        } else {
            return null;
        }
    }

    set animationType (newType) {
        if (this.getSelectedObject()) {
            this.getSelectedObject().animationType = newType;
        } else {
            console.error("Cannot set the animation type of multiple objects...");
        }
    }

    /**
     * If a clip is set to singleFrame, this number will be used to determine that frame.
     */
    get singleFrameNumber () {
        if (this.getSelectedObject() &amp;&amp; this.selectionType === 'clip') {
            return this.getSelectedObject().singleFrameNumber;
        } else {
            return null;
        }
    }

    set singleFrameNumber (frame) {
        if (this.getSelectedObject()) {
            this.getSelectedObject().singleFrameNumber = frame;
        } else {
            console.error("Cannot set singleFrameNumber of multiple objects...");
        }

    }

    /**
     * The position of the selection.
     * @type {number}
     */
    get x() {
        return this.view.x;
    }

    set x(x) {
        this.view.x = x;
        this.project.tryToAutoCreateTween();
    }

    /**
     * The position of the selection.
     * @type {number}
     */
    get y() {
        return this.view.y;
    }

    set y(y) {
        this.view.y = y;
        this.project.tryToAutoCreateTween();
    }

    /**
     * The origin position the selection.
     * @type {number}
     */
    get originX() {
        // If there's only 1 object selected, the origin is that object's position.
        if (this.getSelectedObject() &amp;&amp; (this.selectionType === "clip" || this.selectionType === "button")) {
            return this.getSelectedObject().transformation.x;
        } else {
            return this.x + this.width / 2;
        }
    }

    set originX(x) {
        if (this.getSelectedObject() &amp;&amp; (this.selectionType === "clip" || this.selectionType === "button")) {
            this.getSelectedObject().x = x;
            this.pivotPoint = { x: x, y: this.pivotPoint.y };
        } else {
            this.x = x - this.width / 2;
        }
    }

    /**
     * The origin position the selection.
     * @type {number}
     */
    get originY() {
        // If there's only 1 object selected, the origin is that object's position.
        if (this.getSelectedObject() &amp;&amp; (this.selectionType === "clip" || this.selectionType === "button")) {
            return this.getSelectedObject().y
        } else {
            return this.y + this.height / 2;
        }
    }

    set originY(y) {
        if (this.getSelectedObject() &amp;&amp; (this.selectionType === "clip" || this.selectionType === "button")) {
            this.getSelectedObject().y = y;
            this.pivotPoint = { x: this.pivotPoint.x, y: y };
        } else {
            this.y = y - this.height / 2;
        }
    }


    /**
     * The width of the selection.
     * @type {number}
     */
    get width() {
        return this.view.width;
    }

    set width(width) {
        this.project.tryToAutoCreateTween();
        this.view.width = width;
    }

    /**
     * The height of the selection.
     * @type {number}
     */
    get height() {
        return this.view.height;
    }

    set height(height) {
        this.project.tryToAutoCreateTween();
        this.view.height = height;
    }

    /**
     * The rotation of the selection.
     * @type {number}
     */
    get rotation() {
        return this.view.rotation;
    }

    set rotation(rotation) {
        this.project.tryToAutoCreateTween();
        this.view.rotation = rotation;
    }

    /**
     * It is the original width of the selection at creation.
     * @type {number}
     */
    get originalWidth() {
        return this._originalWidth;
    }

    set originalWidth(originalWidth) {
        this._originalWidth = originalWidth;
    }

    /**
     * It is the original height of the selection at creation.
     * @type {number}
     */
    get originalHeight() {
        return this._originalHeight;
    }

    set originalHeight(originalHeight) {
        this._originalHeight = originalHeight;
    }

    /**
     * The scale of the selection on the X axis.
     * @type {number}
     */
    get scaleX() {
        // Clips store their scale state internally
        if (this.selectionType === "clip" || this.selectionType === "button") {
            return this.getSelectedObject().transformation.scaleX;
        } else {
            // Paths do not save their internal scale state.
            return this.width / this.originalWidth;
        }
    }

    set scaleX(scaleX) {
        // Clips store their scale state internally
        if (this.selectionType === "clip" || this.selectionType === "button") {
            this.getSelectedObject().scaleX = scaleX;
        } else {
            this.width = this.originalWidth * scaleX;
        }
    }

    /**
     * The scale of the selection on the Y axis.
     * @type {number}
     */
    get scaleY() {
        // Clips store their scale state internally
        if (this.selectionType === "clip" || this.selectionType === "button") {
            return this.getSelectedObject().transformation.scaleY;
        } else {
            return this.height / this.originalHeight;
        }
    }

    set scaleY(scaleY) {
        // Clips store their scale state internally
        if (this.selectionType === "clip" || this.selectionType === "button") {
            this.getSelectedObject().scaleY = scaleY;
        } else {
            this.height = this.originalHeight * scaleY;
        }
    }

    /**
     * Determines if a clip is synced to the timeline.
     */
    get isSynced () {
        // Clips store can be synced to the animation timeline
        if (this.selectionType === "clip") {
            return this.getSelectedObject().isSynced;
        } else {
            return false;
        }
    }

    set isSynced (syncBool) {
        if (!typeof syncBool === "boolean") return;

        if (this.selectionType === "clip") {
            this.getSelectedObject().isSynced = syncBool;
        }
    }

    /**
     * Flips the selected obejcts horizontally.
     */
    flipHorizontally() {
        this.project.tryToAutoCreateTween();
        this.view.flipHorizontally();
    }

    /**
     * Flips the selected obejcts vertically.
     */
    flipVertically() {
        this.project.tryToAutoCreateTween();
        this.view.flipVertically();
    }

    /**
     * Sends the selected objects to the back.
     */
    sendToBack() {
        this.view.sendToBack();
    }

    /**
     * Brings the selected objects to the front.
     */
    bringToFront() {
        this.view.bringToFront();
    }

    /**
     * Moves the selected objects forwards.
     */
    moveForwards() {
        this.view.moveForwards();
    }

    /**
     * Moves the selected objects backwards.
     */
    moveBackwards() {
        this.view.moveBackwards();
    }

    /**
     * The identifier of the selected object.
     * @type {string}
     */
    get identifier() {
        return this._getSingleAttribute('identifier');
    }

    set identifier(identifier) {
        this._setSingleAttribute('identifier', identifier);
    }

    /**
     * The name of the selected object.
     * @type {string}
     */
    get name() {
        return this._getSingleAttribute('name');
    }

    set name(name) {
        this._setSingleAttribute('name', name);
    }

    /**
     * The fill color of the selected object.
     * @type {paper.Color}
     */
    get fillColor() {
        return this._getSingleAttribute('fillColor');
    }

    set fillColor(fillColor) {
        this._setSingleAttribute('fillColor', fillColor);
    }

    /**
     * The stroke color of the selected object.
     * @type {paper.Color}
     */
    get strokeColor() {
        return this._getSingleAttribute('strokeColor');
    }

    set strokeColor(strokeColor) {
        this._setSingleAttribute('strokeColor', strokeColor);
    }

    /**
     * The stroke width of the selected object.
     * @type {number}
     */
    get strokeWidth() {
        return this._getSingleAttribute('strokeWidth');
    }

    set strokeWidth(strokeWidth) {
        this._setSingleAttribute('strokeWidth', strokeWidth);
    }

    /**
     * The font family of the selected object.
     * @type {string}
     */
    get fontFamily() {
        return this._getSingleAttribute('fontFamily');
    }

    set fontFamily(fontFamily) {
        this._setSingleAttribute('fontFamily', fontFamily);
    }

    /**
     * The font size of the selected object.
     * @type {number}
     */
    get fontSize() {
        return this._getSingleAttribute('fontSize');
    }

    set fontSize(fontSize) {
        this._setSingleAttribute('fontSize', fontSize);
    }

    /**
     * The font weight of the selected object.
     * @type {number}
     */
    get fontWeight() {
        return this._getSingleAttribute('fontWeight');
    }

    set fontWeight(fontWeight) {
        this._setSingleAttribute('fontWeight', fontWeight);
    }

    /**
     * The font style of the selected object. ('italic' or 'oblique')
     * @type {string}
     */
    get fontStyle() {
        return this._getSingleAttribute('fontStyle');
    }

    set fontStyle(fontStyle) {
        this._setSingleAttribute('fontStyle', fontStyle);
    }

    /**
     * The opacity of the selected object.
     * @type {number}
     */
    get opacity() {
        return this._getSingleAttribute('opacity');
    }

    set opacity(opacity) {
        this.project.tryToAutoCreateTween();
        this._setSingleAttribute('opacity', opacity);
    }

    /**
     * The sound attached to the selected frame.
     * @type {Wick.SoundAsset}
     */
    get sound() {
        return this._getSingleAttribute('sound');
    }

    set sound(sound) {
        this._setSingleAttribute('sound', sound);
    }

    /**
     * The length of the selected frame.
     * @type {number}
     */
    get frameLength() {
        return this._getSingleAttribute('length');
    }

    set frameLength(frameLength) {
        this._setSingleAttribute('length', frameLength);
        var layer = this.project.activeLayer;
        layer.resolveOverlap(this.getSelectedObjects());
        layer.resolveGaps();
    }

    /**
     * The volume of the sound attached to the selected frame.
     * @type {number}
     */
    get soundVolume() {
        return this._getSingleAttribute('soundVolume');
    }

    set soundVolume(soundVolume) {
        this._setSingleAttribute('soundVolume', soundVolume);
    }

    /**
     * The starting position of the sound on the frame in ms.
     * @type {number}
     */
    get soundStart() {
        return this._getSingleAttribute('soundStart');
    }

    set soundStart(soundStart) {
        this._setSingleAttribute('soundStart', soundStart);
    }

    /**
     * The easing type of a selected tween. See Wick.Tween.VALID_EASING_TYPES.
     * @type {string}
     */
    get easingType() {
        return this._getSingleAttribute('easingType');
    }

    set easingType(easingType) {
        return this._setSingleAttribute('easingType', easingType);
    }

    /**
     * The amount of rotations to perform during a tween. Positive value = clockwise rotation.
     * @type {Number}
     */
    get fullRotations () {
        return this._getSingleAttribute('fullRotations');
    }

    set fullRotations (fullRotations) {
        return this._setSingleAttribute('fullRotations', fullRotations);
    }

    /**
     * The filename of the selected asset. Read only.
     * @type {string}
     */
    get filename() {
        return this._getSingleAttribute('filename');
    }

    /**
     * True if the selection is scriptable. Read only.
     * @type {boolean}
     */
    get isScriptable() {
        return this.numObjects === 1 &amp;&amp; this.getSelectedObjects()[0].isScriptable;
    }

    /**
     * The source (dataURL) of the selected ImageAsset or SoundAsset. Read only.
     * @type {string}
     */
    get src () {
        return this.numObjects === 1 &amp;&amp; this.getSelectedObjects()[0].src;
    }

    /**
     * Get a list of only the farthest right frames on each layer.
     * @returns {Wick.Frame[]}
     */
    getRightmostFrames() {
        var selectedFrames = this.getSelectedObjects('Frame');

        var rightmostFrames = {};
        selectedFrames.forEach(frame => {
            var layerid = frame.parentLayer.uuid;
            if (!rightmostFrames[layerid] || frame.end > rightmostFrames[layerid].end) {
                rightmostFrames[layerid] = frame;
            }
        });

        var result = [];
        for (var id in rightmostFrames) {
            result.push(rightmostFrames[id]);
        }

        return result;
    }

    /**
     * Get a list of only the farthest left frames on each layer.
     * @returns {Wick.Frame[]}
     */
    getLeftmostFrames() {
        var selectedFrames = this.getSelectedObjects('Frame');

        var leftmostFrames = {};
        selectedFrames.forEach(frame => {
            var layerid = frame.parentLayer.uuid;
            if (!leftmostFrames[layerid] || frame.start &lt; leftmostFrames[layerid].end) {
                leftmostFrames[layerid] = frame;
            }
        });

        var result = [];
        for (var id in leftmostFrames) {
            result.push(leftmostFrames[id]);
        }

        return result;
    }

    _locationOf(object) {
        if (object instanceof Wick.Frame ||
            object instanceof Wick.Tween ||
            object instanceof Wick.Layer) {
            return 'Timeline';
        } else if (object instanceof Wick.Asset) {
            return 'AssetLibrary';
        } else if (object instanceof Wick.Path ||
            object instanceof Wick.Clip) {
            return 'Canvas';
        }
    }

    /* Helper function: Calculate the selection x,y */
    _resetPositioningValues() {
        var selectedObject = this.getSelectedObject();

        if (selectedObject instanceof Wick.Clip) {
            // Single clip selected: Use that Clip's transformation for the pivot point and rotation
            this._widgetRotation = selectedObject.transformation.rotation;
            this._pivotPoint = {
                x: selectedObject.transformation.x,
                y: selectedObject.transformation.y,
            }
        } else {
            // Path selected or multiple objects selected: Reset rotation and use center for pivot point
            this._widgetRotation = 0;

            var boundsCenter = this.view._getSelectedObjectsBounds().center;
            this._pivotPoint = {
                x: boundsCenter.x,
                y: boundsCenter.y,
            };

            // Always pull original size values.
            this._originalWidth = this.view._getSelectedObjectsBounds().width;
            this._originalHeight = this.view._getSelectedObjectsBounds().height;
        }
    }

    /* helper function for getting a single value from multiple selected objects */
    _getSingleAttribute(attributeName) {
        if (this.numObjects === 0) return null;
        return this.getSelectedObjects()[0][attributeName];
    }

    /* helper function for updating the same attribute on all items in the selection  */
    _setSingleAttribute(attributeName, value) {
        this.getSelectedObjects().forEach(selectedObject => {
            selectedObject[attributeName] = value;
        });
    }

    /*helper function for shift+selecting frames*/
    _selectInBetweenFrames(selectedFrame) {
        var frameBounds = {
            playheadStart: null,
            playheadEnd: null,
        };

        // Calculate bounding box of all selected frames
        var selectedFrames = this.getSelectedObjects('Frame');
        selectedFrames.filter(frame => {
            return frame.parentLayer === selectedFrame.parentLayer;
        }).forEach(frame => {
            var start = frame.start;
            var end = frame.end;

            if (!frameBounds.playheadStart || !frameBounds.playheadEnd) {
                frameBounds.playheadStart = start;
                frameBounds.playheadEnd = end;
            }

            if (start &lt; frameBounds.playheadStart) {
                frameBounds.playheadStart = start;
            }
            if (end > frameBounds.playheadEnd) {
                frameBounds.playheadEnd = end;
            }
        });

        // Select all frames inside bounding box
        this.project.activeTimeline.getAllFrames().filter(frame => {
            return !frame.isSelected &amp;&amp;
                frame.parentLayer === selectedFrame.parentLayer &amp;&amp;
                frame.inRange(frameBounds.playheadStart, frameBounds.playheadEnd)
        }).forEach(frame => {
            this._selectedObjectsUUIDs.push(frame.uuid);
        });
    }
}</code></pre>
        </article>
    </section>




    
    
</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.11</a> on Sat Mar 01 2025 20:10:08 GMT-0300 (Brasilia Standard Time) using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/polyfill.js"></script>
<script src="scripts/linenumber.js"></script>



</body>
</html>
